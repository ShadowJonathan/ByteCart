/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'

    id "com.github.johnrengelman.shadow" version "5.2.0"
}

repositories {
    mavenLocal()
    mavenCentral()

    // Spigot
    maven {
        url = 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/'
    }

//    maven {
//        url = 'http://catageek.free.fr/bytecart/maven/repositories/releases/'
//    }

//    maven {
//        url = 'http://catageek.free.fr/bytecart/maven/repositories/snapshots/'
//    }

    // Dynmap
    maven {
        url = 'https://repo.mikeprimm.com/'
    }
}

group = 'nl.jboi.minecraft'
description = 'ByteCart'
version = '3.2.2'
sourceCompatibility = '1.8'

dependencies {
    implementation 'us.dynmap:dynmap-api:2.5'
    implementation 'com.google.code.gson:gson:2.5'
    implementation "nl.jboi.minecraft:ByteCartAPI:$version"
    compileOnly 'org.bukkit:bukkit:1.14.4+'
}

tasks {
    jar {
        archiveClassifier.set("bare")
        dependsOn(":shadowJar")
    }

    shadowJar {
        archiveClassifier.set(null)
    }
}

publishing {
    publications {
        maven(MavenPublication) {
            artifact(tasks["shadowJar"])
        }
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
